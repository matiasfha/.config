"use strict";var s=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var b=Object.prototype.hasOwnProperty;var w=(t,e)=>{for(var a in e)s(t,a,{get:e[a],enumerable:!0})},g=(t,e,a,f)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of y(e))!b.call(t,r)&&r!==a&&s(t,r,{get:()=>e[r],enumerable:!(f=l(e,r))||f.enumerable});return t};var d=t=>g(s({},"__esModule",{value:!0}),t);var v={};w(v,{default:()=>x});module.exports=d(v);var m=require("child_process");var n=require("@raycast/api"),i=require("node:child_process");async function u(t,e,a){e&&await(0,n.showHUD)(e),await o({menubar:!1,status:!1}),(0,i.exec)(`/usr/bin/caffeinate ${h(a)} || true`),await p(t,!0)}async function o(t,e){e&&await(0,n.showHUD)(e),(0,i.execSync)("/usr/bin/killall caffeinate || true"),await p(t,!1)}async function p(t,e){t.menubar&&await c("index",{caffeinated:e}),t.status&&await c("status",{caffeinated:e})}async function c(t,e){try{await(0,n.launchCommand)({name:t,type:n.LaunchType.Background,context:e})}catch{}}function h(t){let e=(0,n.getPreferenceValues)(),a=[];return e.preventDisplay&&a.push("d"),e.preventDisk&&a.push("m"),e.preventSystem&&a.push("i"),t&&a.push(` ${t}`),a.length>0?`-${a.join("")}`:""}var x=async()=>{try{(0,m.execSync)("pgrep caffeinate"),await o({menubar:!0,status:!0},"Your Mac is now decaffeinated")}catch{await u({menubar:!0,status:!0},"Your Mac is now caffeinated")}};
