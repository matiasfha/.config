"use strict";var D=Object.create;var c=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,T=Object.prototype.hasOwnProperty;var w=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),F=(t,e)=>{for(var r in e)c(t,r,{get:e[r],enumerable:!0})},p=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of P(e))!T.call(t,s)&&s!==r&&c(t,s,{get:()=>e[s],enumerable:!(o=L(e,s))||o.enumerable});return t};var M=(t,e,r)=>(r=t!=null?D(x(t)):{},p(e||!t||!t.__esModule?c(r,"default",{value:t,enumerable:!0}):r,t)),C=t=>p(c({},"__esModule",{value:!0}),t);var h=w((q,d)=>{"use strict";var I=require("os"),m=I.homedir();d.exports=t=>{if(typeof t!="string")throw new TypeError(`Expected a string, got ${typeof t}`);return m?t.replace(/^~(?=$|\/|\\)/,m):t}});var O={};F(O,{default:()=>S});module.exports=C(O);var i=require("@raycast/api"),k=require("react");var u=require("@raycast/api"),l=require("fs"),y=require("path"),g=M(h()),E=(0,u.getPreferenceValues)(),a=(0,g.default)(E.downloadsFolder??"~/Downloads");function A(){return(0,l.readdirSync)(a).filter(e=>!e.startsWith(".")).map(e=>{let r=(0,y.join)(a,e),o=(0,l.statSync)(r).mtime;return{file:e,path:r,lastModifiedAt:o}}).sort((e,r)=>r.lastModifiedAt.getTime()-e.lastModifiedAt.getTime())}var n=require("react/jsx-runtime");function S(){let[t,e]=(0,k.useState)(A());function r(o){e(s=>s.filter(f=>Array.isArray(o)?!o.includes(f.path):o!==f.path))}return(0,n.jsxs)(i.List,{children:[t.length===0&&(0,n.jsx)(i.List.EmptyView,{icon:{fileIcon:a},title:"No downloads found",description:"Well, first download some files \xAF\\_(\u30C4)_/\xAF"}),t.map(o=>(0,n.jsx)(i.List.Item,{title:o.file,icon:{fileIcon:o.path},quickLook:{path:o.path,name:o.file},accessories:[{date:o.lastModifiedAt,tooltip:`Last modified: ${o.lastModifiedAt.toLocaleString()}`}],actions:(0,n.jsxs)(i.ActionPanel,{children:[(0,n.jsxs)(i.ActionPanel.Section,{children:[(0,n.jsx)(i.Action.Open,{title:"Open File",target:o.path}),(0,n.jsx)(i.Action.ShowInFinder,{path:o.path}),(0,n.jsx)(i.Action.CopyToClipboard,{title:"Copy File",content:{file:o.path},shortcut:{modifiers:["cmd","shift"],key:"c"}})]}),(0,n.jsxs)(i.ActionPanel.Section,{children:[(0,n.jsx)(i.Action.OpenWith,{path:o.path,shortcut:{modifiers:["cmd"],key:"o"}}),(0,n.jsx)(i.Action.ToggleQuickLook,{shortcut:{modifiers:["cmd"],key:"y"}})]}),(0,n.jsxs)(i.ActionPanel.Section,{children:[(0,n.jsx)(i.Action.Trash,{title:"Delete Download",paths:o.path,shortcut:{modifiers:["ctrl"],key:"x"},onTrash:r}),(0,n.jsx)(i.Action.Trash,{title:"Delete All Downloads",paths:t.map(s=>s.path),shortcut:{modifiers:["ctrl","shift"],key:"x"},onTrash:r})]})]})},o.path))]})}0&&(module.exports={});
